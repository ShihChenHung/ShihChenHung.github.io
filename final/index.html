<!DOCTYPE html>
<html>
<title>Rohingya</title>

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="css/final.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosanstc.css">
</head>

<body>
    <div class="video-background">
        <div class="video-foreground">
            <iframe id="video1" src="https://www.youtube.com/embed/GXJCfHZEWdQ?controls=0&showinfo=0&rel=0&autoplay=1&loop=1&playlist=GXJCfHZEWdQ" frameborder="0" allowfullscreen></iframe>

        </div>
    </div>

    <div id="vidtop-content">
        <div class="vid-info">
            <h1>Rohinya</h1>
        </div>
    </div>

    <div id="div2" class="container-fluid" style="width:100%;background: linear-gradient(red, yellow);min-height:200vh;margin-top:100vh;">
        <div class="facthold"><br>
            
        <h1 class="counter countstyle">625000</h1>
        <h2 class="countstyle">名難民</h2>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script>
        $(function() {
            var video = $("#video1").attr("src");
            var pos_div2 = $("#div2").position().top;
            var winh = $(window).height();
            console.log(pos_div2);
            $(window).scroll(function() {
                var scroll = $(window).scrollTop();
                console.log(scroll);
                if (scroll > pos_div2 + winh) {
                    //                    $('#video1').get(0).stopVideo();
                    $("#video1").attr("src", "");
                }

                if (scroll == 0) {
                    $("#video1").attr("src", video);
                }
            });
        });
    </script>




    <!--countup-->
    
    <script>
        function isCounterElementVisible($element) {
            var topView = $(window).scrollTop();
            var botView = topView + $(window).height();
            var topElement = $element.offset().top;
            var botElement = topElement + $element.height();
            return ((botElement <= botView) && (topElement >= topView));
        }

        $(window).scroll(function() {
            $(".counter").each(function() {
                isOnView = isCounterElementVisible($(this));
                if (isOnView && !$(this).hasClass('visibled')) {
                    $(this).addClass('visibled');
                    $(this).prop('Counter', 0).animate({
                        Counter: $(this).text()
                    }, {
                        duration: 4500,
                        easing: 'swing',
                        step: function(now) {
                            $(this).text(Math.ceil(now));
                        }
                    });
                }
            });
        });
    </script>









</body>